<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registermultiple</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="grand">
    
  
  <div class="parent">
    
    
    
    <html>
      <body>
          <form onsubmit="savetolocalstorage(event)">
      <label> Name
      </label>
      <input type="text" name="username" required/>
      <label>EmailId</label>
      <input type="email" name="emailId" required/>
      <button>Submit</button>
      </form>
      <ul id='ListOfUsers'></ul>
      <script>
          function savetolocalstorage(event){
              event.preventDefault();
              const name=event.target.username.value;
              const email=event.target.emailId.value;
              const Obj={
                  name,
                  email
              }
              localStorage.setItem(Obj.email, JSON.stringify(Obj))
              showNewUserOnScreen(Obj)
          }
  
          window.addEventListener("DomContentLoaded", ()=>{
              const localStorageObj =localStorage;
              const localstorageKeys = Object.keys(localStorageObj);
  
              for(var i=0;i<localstoragekeys.length; i++){
                  const userdetailsString =localStorageObj[key];
                  const userDetailsObj=JSON.parse(userDetailsString);
                  showNewUserOnScreen(userDetailsObj)
              }
          })
          function showNewUserOnScreen(user){
              //console.log(localStrorage.getItem(user.emailId))
              if(localStorage.getItem(user.email) !==null){
                  removeUserFromScreen(user.email)
              }
              const parentNode=document.getElementById('ListOfUsers');
              const childHTML='<li id=${user.email}> ${user.name} - ${user.email}><button onclick=deleteUser(${user.email})>"delete"</li>'
                          
              parentNode.innerHTML=parentNode.innerHTML + childHTML;
          }
  
          
      </script>
      </body>
  </html>